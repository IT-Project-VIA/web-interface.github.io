(this["webpackJsonpweb-interface"]=this["webpackJsonpweb-interface"]||[]).push([[0],{80:function(e,t,a){e.exports=a(90)},85:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),l=(a(85),a(53)),u=a(29),i=a(140),s=a(146),m=a(136),f=a(137),d=a(138),p=a(129),v=a(24),E=a.n(v),g=a(40),h={getProducts:function(){return fetch("https://via-fr-database-connector.herokuapp.com/Products").then((function(e){return e.json()}))},putProducts:function(e){var t={headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({products:e})};return fetch("https://via-fr-database-connector.herokuapp.com/Products",t).then((function(e){return e.ok}))},deleteProduct:function(){var e=Object(g.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://via-fr-database-connector.herokuapp.com/Products/"+t,{method:"DELETE"});case 2:return a=e.sent,e.abrupt("return",a.ok);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=a(145),P=a(130),O=a(126),w=a(131),j=a(132),k=a(120),y=a(123),C=a(133),x=a(134),S=a(142),N=a(46),B=a(63),z=a(143),H=a(139),T=a(148),D=a(127),I=a(128),J=function(e){var t,a,n,c,o,u=e.product,i=e.setProducts,s=function(){var e=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.deleteProduct(t.id);case 2:if(!e.sent){e.next=4;break}i((function(e){return e.filter((function(e){return e.id!==t.id}))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){!function(e){i((function(t){var a=Object(l.a)(t),n=a.findIndex((function(t){return t.id===e.id}));return a[n]=e,a}))}(Object(B.a)({},u,Object(N.a)({},e.target.name,e.target.value)))},f=function(){var e=Object(g.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(u);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(k.a,null,r.a.createElement(y.a,{align:"left"},r.a.createElement(z.a,{name:"name",variant:"outlined",size:"small",onChange:m,value:null!==(t=u.name)&&void 0!==t?t:""})),r.a.createElement(y.a,{align:"left"},r.a.createElement(z.a,{name:"price",variant:"outlined",type:"number",onChange:m,size:"small",value:null!==(a=u.price)&&void 0!==a?a:""})),r.a.createElement(y.a,{align:"left"},r.a.createElement(z.a,{name:"newPrice",type:"number",variant:"outlined",size:"small",onChange:m,value:null!==(n=u.newPrice)&&void 0!==n?n:""})),r.a.createElement(y.a,{align:"left"},r.a.createElement(H.a,{name:"sex",value:null!==(c=u.sex)&&void 0!==c?c:"none",variant:"outlined",onChange:m},r.a.createElement(T.a,{value:"none"},"None"),r.a.createElement(T.a,{value:"M"},"Male"),r.a.createElement(T.a,{value:"F"},"Female"))),r.a.createElement(y.a,{align:"left"},r.a.createElement(H.a,{name:"age",value:null!==(o=u.age)&&void 0!==o?o:"none",variant:"outlined",onChange:m},r.a.createElement(T.a,{value:"none"},"None"),r.a.createElement(T.a,{value:1},"1"),r.a.createElement(T.a,{value:5},"5"),r.a.createElement(T.a,{value:10},"10"),r.a.createElement(T.a,{value:17},"17"),r.a.createElement(T.a,{value:28},"28"),r.a.createElement(T.a,{value:40},"40"),r.a.createElement(T.a,{value:50},"50"),r.a.createElement(T.a,{value:80},"80"))),r.a.createElement(y.a,null,r.a.createElement(D.a,{onClick:f},r.a.createElement(I.a,null))))},F=Object(p.a)((function(){return{tableContainer:{maxHeight:"100%"}}})),M=function(e){var t=e.setProducts,a=e.products,n=F(),c=r.a.useState(0),o=Object(u.a)(c,2),l=o[0],i=o[1],s=r.a.useState(5),m=Object(u.a)(s,2),f=m[0],d=m[1],p=a.slice(l*f,l*f+f);return r.a.createElement(P.a,{component:O.a,className:n.tableContainer},r.a.createElement(w.a,{stickyHeader:!0},r.a.createElement(j.a,{className:n.tableHead},r.a.createElement(k.a,null,r.a.createElement(y.a,{align:"left"},"Product"),r.a.createElement(y.a,{align:"left"},"Price"),r.a.createElement(y.a,{align:"left"},"Special Price"),r.a.createElement(y.a,{align:"left"},"Target Gender"),r.a.createElement(y.a,{align:"left"},"Target Age"),r.a.createElement(y.a,{align:"left"}))),r.a.createElement(C.a,null,p.map((function(e){return r.a.createElement(J,{key:e.id,product:e,setProducts:t})}))),r.a.createElement(x.a,null,r.a.createElement(k.a,null,r.a.createElement(S.a,{rowsPerPageOptions:[5,10,25,50],count:a.length,rowsPerPage:f,page:l,onChangePage:function(e,t){i(t)},onChangeRowsPerPage:function(e){d(parseInt(e.target.value,10)),i(0)}})))))},W=a(141),A=Object(p.a)((function(e){return{box:{background:"#00000022",height:"100vh",width:"100vw"},grid:{background:"#00000022"},saveButton:{position:"fixed",bottom:e.spacing(4),right:e.spacing(4)},addButton:{position:"fixed",bottom:e.spacing(4)+64,right:e.spacing(4)}}})),G=function(){var e=A(),t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],o=a[1],p=Object(n.useState)(!1),v=Object(u.a)(p,2),E=v[0],g=v[1],P=Object(n.useState)(!1),O=Object(u.a)(P,2),w=O[0],j=O[1];Object(n.useEffect)((function(){h.getProducts().then((function(e){return o(e)}))}),[o]);return r.a.createElement(i.a,{className:e.box},r.a.createElement(M,{products:c,setProducts:o}),r.a.createElement(s.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:E,autoHideDuration:6e3,onClose:function(){return g(!1)}},r.a.createElement(W.a,{onClose:function(){return g(!1)},severity:"success"},"Successfully Saved!")),r.a.createElement(s.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:w,autoHideDuration:6e3,onClose:function(){return j(!1)}},r.a.createElement(W.a,{onClose:function(){return j(!1)},severity:"error"},"Saving failed!")),r.a.createElement(m.a,{className:e.addButton,color:"primary",onClick:function(){o([].concat(Object(l.a)(c),[{id:Object(b.a)()}]))}},r.a.createElement(f.a,null)),r.a.createElement(m.a,{className:e.saveButton,color:"primary",onClick:function(){h.putProducts(c).then((function(e){e?g(!0):j(!0)}))}},r.a.createElement(d.a,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[80,1,2]]]);
//# sourceMappingURL=main.64fb5fb1.chunk.js.map