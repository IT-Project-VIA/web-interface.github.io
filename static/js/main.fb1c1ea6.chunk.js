(this["webpackJsonpweb-interface"]=this["webpackJsonpweb-interface"]||[]).push([[0],{80:function(e,t,a){e.exports=a(90)},85:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),l=(a(85),a(53)),u=a(25),i=a(136),s=a(141),m=a(147),f=a(137),d=a(138),p=a(139),v=a(129),E=a(24),g=a.n(E),h=a(40),b={getProducts:function(){return fetch("https://via-fr-database-connector.herokuapp.com/Products").then((function(e){return e.json()}))},putProducts:function(e){var t={headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({products:e})};return fetch("https://via-fr-database-connector.herokuapp.com/Products",t).then((function(e){return e.ok}))},deleteProduct:function(){var e=Object(h.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://via-fr-database-connector.herokuapp.com/Products/"+t,{method:"DELETE"});case 2:return a=e.sent,e.abrupt("return",a.ok);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=a(146),P=a(130),j=a(126),w=a(131),k=a(132),y=a(120),C=a(123),x=a(133),S=a(134),N=a(143),B=a(46),z=a(63),H=a(144),T=a(140),A=a(149),D=a(127),I=a(128),J=function(e){var t,a,n,c,o,u=e.product,i=e.setProducts,s=function(){var e=Object(h.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.deleteProduct(t.id);case 2:if(!e.sent){e.next=4;break}i((function(e){return e.filter((function(e){return e.id!==t.id}))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){!function(e){i((function(t){var a=Object(l.a)(t),n=a.findIndex((function(t){return t.id===e.id}));return a[n]=e,a}))}(Object(z.a)({},u,Object(B.a)({},e.target.name,e.target.value)))},f=function(){var e=Object(h.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(u);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(y.a,null,r.a.createElement(C.a,{align:"left"},r.a.createElement(H.a,{name:"name",variant:"outlined",size:"small",onChange:m,value:null!==(t=u.name)&&void 0!==t?t:""})),r.a.createElement(C.a,{align:"left"},r.a.createElement(H.a,{name:"price",variant:"outlined",type:"number",onChange:m,size:"small",value:null!==(a=u.price)&&void 0!==a?a:""})),r.a.createElement(C.a,{align:"left"},r.a.createElement(H.a,{name:"newPrice",type:"number",variant:"outlined",size:"small",onChange:m,value:null!==(n=u.newPrice)&&void 0!==n?n:""})),r.a.createElement(C.a,{align:"left"},r.a.createElement(T.a,{name:"sex",value:null!==(c=u.sex)&&void 0!==c?c:"none",variant:"outlined",onChange:m},r.a.createElement(A.a,{value:"none"},"Any"),r.a.createElement(A.a,{value:"M"},"Male"),r.a.createElement(A.a,{value:"F"},"Female"))),r.a.createElement(C.a,{align:"left"},r.a.createElement(T.a,{name:"age",value:null!==(o=u.age)&&void 0!==o?o:"none",variant:"outlined",onChange:m},r.a.createElement(A.a,{value:"none"},"Any"),r.a.createElement(A.a,{value:1},"1"),r.a.createElement(A.a,{value:5},"5"),r.a.createElement(A.a,{value:10},"10"),r.a.createElement(A.a,{value:17},"17"),r.a.createElement(A.a,{value:28},"28"),r.a.createElement(A.a,{value:40},"40"),r.a.createElement(A.a,{value:50},"50"),r.a.createElement(A.a,{value:80},"80"))),r.a.createElement(C.a,null,r.a.createElement(D.a,{onClick:f},r.a.createElement(I.a,null))))},F=Object(v.a)((function(){return{tableContainer:{maxHeight:"100%"}}})),M=function(e){var t=e.setProducts,a=e.products,n=F(),c=r.a.useState(0),o=Object(u.a)(c,2),l=o[0],i=o[1],s=r.a.useState(5),m=Object(u.a)(s,2),f=m[0],d=m[1],p=a.slice(l*f,l*f+f);return r.a.createElement(P.a,{component:j.a,className:n.tableContainer},r.a.createElement(w.a,{stickyHeader:!0},r.a.createElement(k.a,{className:n.tableHead},r.a.createElement(y.a,null,r.a.createElement(C.a,{align:"left"},"Product"),r.a.createElement(C.a,{align:"left"},"Price"),r.a.createElement(C.a,{align:"left"},"Special Price"),r.a.createElement(C.a,{align:"left"},"Target Gender"),r.a.createElement(C.a,{align:"left"},"Target Age"),r.a.createElement(C.a,{align:"left"}))),r.a.createElement(x.a,null,p.map((function(e){return r.a.createElement(J,{key:e.id,product:e,setProducts:t})}))),r.a.createElement(S.a,null,r.a.createElement(y.a,null,r.a.createElement(N.a,{rowsPerPageOptions:[5,10,25,50],count:a.length,rowsPerPage:f,page:l,onChangePage:function(e,t){i(t)},onChangeRowsPerPage:function(e){d(parseInt(e.target.value,10)),i(0)}})))))},W=a(142),G=Object(v.a)((function(e){return{box:{background:"#00000022",height:"100vh",width:"100vw"},grid:{background:"#00000022"},saveButton:{position:"fixed",bottom:e.spacing(4),right:e.spacing(4)},addButton:{position:"fixed",bottom:e.spacing(4)+64,right:e.spacing(4)},centered:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}}})),L=function(){var e=G(),t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],o=a[1],v=Object(n.useState)(!1),E=Object(u.a)(v,2),g=E[0],h=E[1],P=Object(n.useState)(!1),j=Object(u.a)(P,2),w=j[0],k=j[1],y=Object(n.useState)(!0),C=Object(u.a)(y,2),x=C[0],S=C[1];Object(n.useEffect)((function(){b.getProducts().then((function(e){return o(e)})).finally((function(){return S(!1)}))}),[o]);return x?r.a.createElement(i.a,{className:e.centered}):r.a.createElement(s.a,{className:e.box},r.a.createElement(M,{products:c,setProducts:o}),r.a.createElement(m.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:g,autoHideDuration:6e3,onClose:function(){return h(!1)}},r.a.createElement(W.a,{onClose:function(){return h(!1)},severity:"success"},"Successfully Saved!")),r.a.createElement(m.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:w,autoHideDuration:6e3,onClose:function(){return k(!1)}},r.a.createElement(W.a,{onClose:function(){return k(!1)},severity:"error"},"Saving failed!")),r.a.createElement(f.a,{className:e.addButton,color:"primary",onClick:function(){o([].concat(Object(l.a)(c),[{id:Object(O.a)()}]))}},r.a.createElement(d.a,null)),r.a.createElement(f.a,{className:e.saveButton,color:"primary",onClick:function(){b.putProducts(c).then((function(e){e?h(!0):k(!0)}))}},r.a.createElement(p.a,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[80,1,2]]]);
//# sourceMappingURL=main.fb1c1ea6.chunk.js.map